<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RTK // Green Kernel</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
RTK // Green Kernel
<div>Training Mode | Root</div>
</header>

<div class="output" id="output">
RTK initialized.<br>
Type <span class="prompt">help</span> to list modules.
</div>

<div class="command-bar">
<input id="commandInput" placeholder="Enter module..." autofocus>
</div>

<script>
const output=document.getElementById("output");
const input=document.getElementById("commandInput");

function randomIP(){
  return `${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}`;
}

// Slow typing per character + pause per line
function typeLines(lines, speed=120){
  return new Promise(resolve=>{
    let i = 0;

    function nextLine(){
      if(i >= lines.length){
        resolve();
        return;
      }

      let text = lines[i];
      let charIndex = 0;

      function typeChar(){
        if(charIndex < text.length){
          output.innerHTML += text[charIndex];
          output.scrollTop = output.scrollHeight;
          charIndex++;
          setTimeout(typeChar, speed);
        } else {
          output.innerHTML += "<br>";
          i++;
          setTimeout(nextLine, speed * 3);
        }
      }

      typeChar();
    }

    nextLine();
  });
}

// Normalize command: remove dashes/spaces and lowercase
function normalize(cmd){
  return cmd.toLowerCase().replace(/[-\s]/g,"");
}

// All modules with unique outputs
const modules = {
scannet: async()=>{ await typeLines([
  "Starting network discovery...",
  "Subnet: 192.168.1.0/24",
  "Host found: "+randomIP(),
  "Host found: "+randomIP(),
  "Host found: "+randomIP(),
  "Scan complete. 3 hosts responsive."
]);},

scandeep: async()=>{ await typeLines([
  "Engaging deep scan...",
  "OS fingerprinting: Linux Ubuntu 22.04",
  "Enumerating services...",
  "Open ports: 22, 80, 443",
  "Vulnerabilities: None critical"
]);},

deploytrojan: async()=>{ await typeLines([
  "Compiling trojan payload...",
  "Embedding persistence hook...",
  "Uploading to "+randomIP(),
  "Execution triggered",
  "Trojan deployed successfully (simulation)"
]);},

deployrat: async()=>{ await typeLines([
  "Generating RAT...",
  "Encrypting C2 channel...",
  "Connecting to victim host...",
  "Session established (simulated)"
]);},

buildpayload: async()=>{ await typeLines([
  "Initializing payload builder...",
  "Architecture x64 detected",
  "Encoding shellcode...",
  "Payload compiled successfully"
]);},

droploader: async()=>{ await typeLines([
  "Preparing staged loader...",
  "Downloading stage 2 components...",
  "Integrity check passed",
  "Loader executed (simulation)"
]);},

privesc: async()=>{ await typeLines([
  "Checking privilege escalation vectors...",
  "Kernel exploit found",
  "Privilege level escalated to SYSTEM (simulated)"
]);},

wipelogs: async()=>{ await typeLines([
  "Locating system logs...",
  "Overwriting entries...",
  "Clearing authentication history...",
  "Logs wiped (simulation)"
]);},

selfdestruct: async()=>{
  await typeLines([
    ">>> INITIATING FAILSAFE PROTOCOL",
    "Disabling input interface...",
    "Terminating modules...",
    "Overwriting runtime memory...",
    "Destroying kernel..."
  ], 120);

  input.disabled = true;
  document.body.classList.add("glitch");

  setTimeout(()=>{
    document.body.innerHTML = `
      <div class="destruct-screen">
        <div>⚠ SYSTEM FAILURE ⚠</div>
        <br>
        <div>CORE MEMORY CORRUPTED</div>
        <div>RUNTIME DESTROYED</div>
        <br>
        <div>NO RECOVERY AVAILABLE</div>
        <br>
        <div style="font-size:14px; opacity:0.6;">
        Session permanently terminated.
        </div>
      </div>
    `;
  }, 4000);
},

help: async()=>{
  await typeLines(["Available Modules:"].concat(Object.keys(modules)),10);
}
};

// Run command
async function run(cmdRaw){
  const clean=normalize(cmdRaw);
  output.innerHTML+="<br><span class='prompt'>rtk ></span> "+cmdRaw+"<br>";
  if(modules[clean]){
    await modules[clean]();
  } else {
    await typeLines(["Module not recognized."],10);
  }
}

// Listen for enter key
input.addEventListener("keydown",e=>{
  if(e.key==="Enter"){
    const cmd=input.value.trim();
    if(cmd!=="") run(cmd);
    input.value="";
  }
});
</script>

</body>
</html>
